# 深拷贝&浅拷贝
说到深拷贝和浅拷贝自然要提到`Javascript`的数据类型和一些堆和栈的知识
![](https://github.com/liyayun713/FED/blob/master/images/DeepCopy-ShallowCopy1.png)

## 堆和栈的区别
深拷贝和浅拷贝的主要区别在于其在内存中的存储类型不同
* 栈 (stack) 为自动分配的内存空间，它由系统自动释放
* 堆 (heap) 则是动态分配的内存，大小不定也不能自动释放

## ECMAScript 的数据类型
### 基础数据类型(Undefined、Null、Boolean、String、Number)

* 基本数据类型存放在栈中
存放在栈内存中的简单数据段，数据大小确定，内存空间大小可以分配，是直接按值存放的，所以可以直接访问

* 基本数据类型值不可变
javascript中的原始值（undefined、null、布尔值、数字和字符串）与对象（包括数组和函数）有着根本区别。原始值是不可更改的：任何方法都无法更改（或“突变”）一个原始值。对数字和布尔值来说显然如此 —— 改变数字的值本身就说不通，而对字符串来说就不那么明显了，因为字符串看起来像由字符组成的数组，我们期望可以通过指定索引来假改字符串中的字符。实际上，javascript 是禁止这样做的。**字符串中所有的方法看上去返回了一个修改后的字符串，实际上返回的是一个新的字符串值**。
```js
var str = 'abc';
str[1] = 'f';
console.log(str);		// 'abc'
```
在 js 中没有方法是可以改变布尔值和数字的。倒是有很多操作字符串的方法，但是这些方法都是返回一个**新的字符串**，并没有改变其原有的数据。

* 基本类型的比较是值的比较
```js
var a = 1;
var b = 1;
console.log(a === b);		// true
```

### 引用类型(Object、Array、Function……)

* 引用类型存放在堆中
引用类型（object）是存放在堆内存中的，变量实际上是一个存放在栈内存的指针，这个指针指向堆内存中的地址。每个空间大小不一样，要根据情况开进行特定的分配，例如:
![](https://github.com/liyayun713/FED/blob/master/images/DeepCopy-ShallowCopy2.png)

* 引用类型的值可变

* 引用类型的比较是引用的比较

* 传值与传址
了解了基本数据类型与引用类型的区别之后，我们就应该能明白传值与传址的区别了。
在我们进行赋值操作的时候，基本数据类型的赋值（=）是在内存中新开辟一段栈内存，然后再把再将值赋值到新的栈中。<br>
但是引用类型的赋值是**传址**。只是改变指针的指向，例如，也就是说引用类型的赋值是对象保存在栈中的地址的赋值，这样的话两个变量就指向同一个对象，因此两者之间操作互相有影响

## 浅拷贝
